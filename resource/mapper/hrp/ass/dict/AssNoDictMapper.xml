<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chd.hrp.ass.dao.dict.AssNoDictMapper">

	<resultMap id="assNoDict" type="com.chd.hrp.ass.entity.dict.AssNoDict">
		<result property="group_id" column="group_id" />
		<result property="hos_id" column="hos_id" />
		<result property="copy_code" column="copy_code" />
		<result property="ass_id" column="ass_id" />
		<result property="ass_no" column="ass_no" />
		<result property="ass_code" column="ass_code" />
		<result property="ass_name" column="ass_name" />
		<result property="ass_type_id" column="ass_type_id" /> 
		<result property="acc_type_code" column="acc_type_code" />
		<result property="ass_unit" column="ass_unit" />
		<result property="is_measure" column="is_measure" />
		<result property="is_depre" column="is_depre" />
		<result property="ass_depre_code" column="ass_depre_code" />
		<result property="depre_years" column="depre_years" />
		<result property="is_stop" column="is_stop" />
		<result property="ass_spec" column="ass_spec" />
		<result property="ass_model" column="ass_model" />
		<result property="fac_id" column="fac_id" />
		<result property="fac_no" column="fac_no" />
		<result property="ven_id" column="ven_id" />
		<result property="ven_no" column="ven_no" />
		<result property="usage_code" column="usage_code" />
		<result property="usage_name" column="usage_name" />
		<result property="gb_code" column="gb_code" />
		<result property="spell_code" column="spell_code" />
		<result property="wbx_code" column="wbx_code" />
		<result property="is_ins" column="is_ins" />
		<result property="is_accept" column="is_accept" />
		<result property="is_check" column="is_check" />
		<result property="ass_brand" column="ass_brand" />
		<result property="is_bar" column="is_bar" />
		<result property="bar_type" column="bar_type" />
		<result property="is_manage_depre" column="is_manage_depre" />
		<result property="manage_depr_method" column="manage_depr_method" />
		<result property="manage_depre_amount" column="manage_depre_amount" />
		<result property="manage_depr_method_name" column="manage_depr_method_name" />
		<result property="is_change" column="is_change" />
		<result property="note" column="note" />
		<result property="price" column="price" />
		<result property="is_fae" column="is_fae" />
		<result property="common_name" column="common_name" />
		<result property="type_code" column="type_code" />
	</resultMap>
	<resultMap id="assNoDictMap" type="java.util.Map">
		<result property="group_id" column="group_id" />
		<result property="hos_id" column="hos_id" />
		<result property="copy_code" column="copy_code" />
		<result property="ass_id" column="ass_id" />
		<result property="ass_no" column="ass_no" />
		<result property="ass_code" column="ass_code" />
		<result property="ass_name" column="ass_name" />
		<result property="ass_type_id" column="ass_type_id" />
		<result property="acc_type_code" column="acc_type_code" />
		<result property="ass_unit" column="ass_unit" />
		<result property="is_measure" column="is_measure" />
		<result property="is_depre" column="is_depre" />
		<result property="ass_depre_code" column="ass_depre_code" />
		<result property="depre_years" column="depre_years" />
		<result property="is_stop" column="is_stop" />
		<result property="ass_spec" column="ass_spec" />
		<result property="ass_model" column="ass_model" />
		<result property="fac_id" column="fac_id" />
		<result property="fac_no" column="fac_no" />
		<result property="ven_id" column="ven_id" />
		<result property="ven_no" column="ven_no" />
		<result property="usage_code" column="usage_code" />
		<result property="usage_name" column="usage_name" />
		<result property="gb_code" column="gb_code" />
		<result property="spell_code" column="spell_code" />
		<result property="wbx_code" column="wbx_code" />
		<result property="is_ins" column="is_ins" />
		<result property="is_accept" column="is_accept" />
		<result property="is_check" column="is_check" />
		<result property="ass_brand" column="ass_brand" />
		<result property="is_bar" column="is_bar" />
		<result property="bar_type" column="bar_type" />
		<result property="is_manage_depre" column="is_manage_depre" />
		<result property="manage_depr_method" column="manage_depr_method" />
		<result property="manage_depre_amount" column="manage_depre_amount" />
		<result property="manage_depr_method_name" column="manage_depr_method_name" />
		<result property="is_change" column="is_change" />
		<result property="price" column="price" />
		<result property="is_fae" column="is_fae" />
		<result property="common_name" column="common_name" />
		<result property="type_code" column="type_code" />
	</resultMap>

	<insert id="addAssNoDict" useGeneratedKeys="true">

		INSERT INTO
		ASS_NO_DICT (
			group_id
			,
			hos_id
			,
			copy_code
			,
			ass_id
			,
			ass_no
			,
			ass_code
			,
			ass_name
			,
			ass_type_id
			,
			ass_unit
			,
			is_measure
			,
			is_depre
			,
			ass_depre_code
			,
			depre_years
			,
			is_stop
			,
			ass_spec
			,
			ass_model
			,
			fac_id
			,
			fac_no
			,
			ven_id
			,
			ven_no
			,
			usage_code
			,
			gb_code
			,
			spell_code
			,
			wbx_code
			,
			is_ins
			,
			is_accept
			,
			is_check
			,
			ass_brand
			,
			is_bar
			,
			bar_type
			,
			is_manage_depre
			,
			manage_depr_method
			,
			manage_depre_amount
			,
			reg_no,
			price,
				measure_type
				,
				is_s_measure,
				measure_king_code,
				is_fae,
				common_name,
				type_code
		) VALUES (
		#{group_id,jdbcType=INTEGER} ,
		#{hos_id,jdbcType=INTEGER} ,
		#{copy_code,jdbcType=VARCHAR} ,
		#{ass_id,jdbcType=INTEGER} ,
		ASS_NO_DICT_SEQ.nextval ,
		#{ass_code,jdbcType=VARCHAR} ,
		#{ass_name,jdbcType=VARCHAR} ,
		#{ass_type_id,jdbcType=INTEGER} ,
		#{ass_unit,jdbcType=VARCHAR} ,
		#{is_measure,jdbcType=INTEGER} ,
		#{is_depre,jdbcType=INTEGER} ,
		#{ass_depre_code,jdbcType=VARCHAR} ,
		#{depre_years,jdbcType=INTEGER} ,
		#{is_stop,jdbcType=INTEGER} ,
		#{ass_spec,jdbcType=VARCHAR} ,
		#{ass_model,jdbcType=VARCHAR} ,
		#{fac_id,jdbcType=VARCHAR} ,
		#{fac_no,jdbcType=VARCHAR} ,
		#{ven_id,jdbcType=VARCHAR} ,
		#{ven_no,jdbcType=VARCHAR} ,
		#{usage_code,jdbcType=VARCHAR} ,
		#{gb_code,jdbcType=VARCHAR} ,
		#{spell_code,jdbcType=VARCHAR} ,
		#{wbx_code,jdbcType=VARCHAR},
		#{is_ins,jdbcType=INTEGER},
		#{is_accept,jdbcType=INTEGER},
		#{is_check,jdbcType=INTEGER},
		#{ass_brand,jdbcType=VARCHAR},
		#{is_bar,jdbcType=INTEGER},
		#{bar_type,jdbcType=INTEGER},
		#{is_manage_depre,jdbcType=VARCHAR},
		#{manage_depr_method,jdbcType=INTEGER},
		#{manage_depre_amount,jdbcType=INTEGER},
		#{reg_no,jdbcType=VARCHAR},
		#{price,jdbcType=INTEGER},
		#{measure_type,jdbcType=INTEGER},
		#{is_s_measure,jdbcType=INTEGER},
		#{measure_king_code,jdbcType=VARCHAR},
		#{is_fae,jdbcType=INTEGER},
		#{common_name,jdbcType=VARCHAR},
		#{type_code,jdbcType=VARCHAR}
		)

	</insert>
	<insert id="addBatchAssNoDict" parameterType="java.util.List">

		INSERT INTO ASS_NO_DICT (
		ass_no
		,
		group_id
		,
		hos_id
		,
		copy_code
		,
		ass_id
		,
		ass_code
		,
		ass_name
		,
		ass_type_id
		,
		ass_unit
		,
		is_measure
		,
		is_depre
		,
		ass_depre_code
		,
		depre_years
		,
		is_stop
		,
		ass_spec
		,
		ass_model
		,
		fac_id
		,
		fac_no
		,
		ven_id
		,
		ven_no
		,
		usage_code
		,
		gb_code
		,
		spell_code
		,
		wbx_code
		,
		reg_no,
		price,
		measure_type,
		is_s_measure,
		measure_king_code,
		is_fae,
		common_name,
		type_code

		) select
		ASS_NO_DICT_SEQ.nextval , t.* from(
		<foreach collection="list" item="item" index="index"
			separator=" union all ">
			select
			#{item.group_id} ,
			#{item.hos_id} ,
			#{item.copy_code} ,
			#{item.ass_id} ,
			#{item.ass_code} ,
			#{item.ass_name} ,
			#{item.ass_type_id} ,
			#{item.ass_unit} ,
			#{item.is_measure} ,
			#{item.is_depre} ,
			#{item.ass_depre_code} ,
			#{item.depre_years} ,
			#{item.is_stop} ,
			#{item.ass_spec} ,
			#{item.ass_model} ,
			#{item.fac_id},
			#{item.fac_no} ,
			#{item.ven_id} ,
			#{item.ven_no} ,
			#{item.usage_code} ,
			#{item.gb_code} ,
			#{item.spell_code} ,
			#{item.wbx_code},
			#{item.reg_no},
			#{item.price},
			#{item.measure_type},
			#{item.is_s_measure},
			#{item.measure_king_code},
			#{item.is_fae},
			#{item.common_name},
			#{item.type_code}
			from dual
		</foreach>
		)t
	</insert>

	<insert id="batchImportAssNoDict" parameterType="java.lang.String">

		INSERT INTO ASS_NO_DICT (
		ass_no
		,
		group_id
		,
		hos_id
		,
		copy_code
		,
		ass_id
		,
		ass_code
		,
		ass_name
		,
		ass_type_id
		,
		ass_unit
		,
		is_measure
		,
		is_depre
		,
		ass_depre_code
		,
		depre_years
		,
		is_stop
		,
		ass_spec
		,
		ass_model
		,
		fac_id
		,
		fac_no
		,
		ven_id
		,
		ven_no
		,
		usage_code
		,
		gb_code
		,
		spell_code
		,
		wbx_code
		,
		is_ins
		,
		is_accept
		,
		is_check
		,
		ass_brand
		,         
		is_bar 
		,            
		bar_type           
		,
		is_manage_depre
		,    
		manage_depr_method 
		,
		manage_depre_amount,
		note,
		reg_no,
		price,
		measure_type,
		is_s_measure,
		measure_king_code,
		is_fae,
		common_name,
		type_code
		) select ASS_NO_DICT_SEQ.nextval , t.* from(
		<foreach collection="list" item="item" index="index"
			separator=" union all ">
			select
			group_id,hos_id,copy_code,ass_id,ass_code,ass_name,ass_type_id,ass_unit,is_measure,is_depre,
			ass_depre_code,depre_years,0,ass_spec,ass_model,fac_id,fac_no,ven_id,ven_no,usage_code,
			gb_code,spell_code,wbx_code,is_ins,is_accept,is_check,ass_brand,is_bar,bar_type,is_manage_depre,
			manage_depr_method,manage_depre_amount,note,reg_no,price,measure_type,is_s_measure,measure_king_code,is_fae,common_name,
			type_code
			from ASS_DICT
			where group_id = #{item.group_id}
				and hos_id = #{item.hos_id}
				and copy_code = #{item.copy_code}
				and ass_code = #{item.ass_code}
		</foreach>
		)t
	</insert>

	<update id="updateAssNoDict" parameterType="java.util.Map">

		UPDATE ass_no_dict
		SET
		ass_code = #{ass_code}
		,
		ass_name = #{ass_name}
		,
		ass_type_id =
		#{ass_type_id}
		,
		ass_unit = #{ass_unit}
		,
		is_measure = #{is_measure}
		,
		is_depre = #{is_depre}
		,
		ass_depre_code = #{ass_depre_code}
		,
		depre_years
		= #{depre_years}
		,
		is_stop = #{is_stop}
		,
		ass_spec = #{ass_spec}
		,
		ass_model = #{ass_model}
		,
		fac_id = #{fac_id}
		,
		fac_no = #{fac_no}
		,
		ven_id
		= #{ven_id}
		,
		ven_no = #{ven_no}
		,
		usage_code = #{usage_code}
		,
		gb_code =
		#{gb_code}
		,
		spell_code = #{spell_code}
		,
		wbx_code = #{wbx_code}
		,
		is_ins =
		#{is_ins}
		,
		is_accept = #{is_accept}
		,
		is_check = #{is_check}
		,
		ass_brand =
		#{ass_brand}
		,
		is_bar = #{is_bar}
		,
		bar_type = #{bar_type}
		,
		is_manage_depre = #{is_manage_depre}
		,
		manage_depr_method =
		#{manage_depr_method}
		,
		manage_depre_amount = #{manage_depre_amount}
		,
		reg_no = #{reg_no}
		,
		price = #{price}
		,
		measure_type = #{measure_type}
		,
		is_s_measure = #{is_s_measure}
		,
		measure_king_code = #{measure_king_code},
		
		is_fae = #{is_fae},
		
		common_name = #{common_name},
		
		type_code = #{type_code}
		WHERE
		group_id = #{group_id}
		and
		hos_id = #{hos_id}
		and
		copy_code =
		#{copy_code}
		and
		ass_id = #{ass_id}
		and
		ass_no = #{ass_no}

	</update>

	<update id="updateAssNoDictCharge" parameterType="java.util.Map">

		UPDATE ass_no_dict
		<trim prefix="SET" suffixOverrides=",">
			<if test="ass_code != null and ass_code != ''">
				ass_code = #{ass_code}
				,
			</if>
			<if test="ass_name != null and ass_name != ''">
				ass_name = #{ass_name}
				,
			</if>
			<if test="ass_type_id != null and ass_type_id != ''">
				ass_type_id = #{ass_type_id}
				,
			</if>
			<if test="ass_unit != null and ass_unit != ''">
				ass_unit = #{ass_unit}
				,
			</if>
			<if test="is_measure != null and is_measure != ''">
				is_measure = #{is_measure}
				,
			</if>
			<if test="is_depre != null and is_depre != ''">
				is_depre = #{is_depre}
				,
			</if>
			<if test="ass_depre_code != null and ass_depre_code != ''">
				ass_depre_code = #{ass_depre_code}
				,
			</if>
			<if test="depre_years != null and depre_years != ''">
				depre_years = #{depre_years}
				,
			</if>
			<if test="is_stop != null and is_stop != ''">
				is_stop = #{is_stop}
				,
			</if>
			<if test="ass_spec != null and ass_spec != ''">
				ass_spec = #{ass_spec}
				,
			</if>
			<if test="ass_model != null and ass_model != ''">
				ass_model = #{ass_model}
				,
			</if>	
			<if test="fac_id != null and fac_id != ''">
				fac_id = #{fac_id}
				,
			</if>	
			<if test="fac_no != null and fac_no != ''">
				fac_no = #{fac_no}
				,
			</if>
			<if test="ven_id != null and ven_id != ''">	
				ven_id = #{ven_id}
				,
			</if>
			<if test="ven_no != null and ven_no != ''">		
				ven_no = #{ven_no}
				,
			</if>	
			<if test="usage_code != null and usage_code != ''">	
				usage_code = #{usage_code}
				,
			</if>	
			<if test="gb_code != null and gb_code != ''">	
				gb_code = #{gb_code}
				,
			</if>
			<if test="spell_code != null and spell_code != ''">		
				spell_code = #{spell_code}
				,
			</if>	
			<if test="wbx_code != null and wbx_code != ''">	
				wbx_code = #{wbx_code}
				,
			</if>	
			<if test="is_ins != null and is_ins != ''">		
				is_ins = #{is_ins}
				,
			</if>	
			<if test="is_accept != null and is_accept != ''">	
				is_accept = #{is_accept}
				,
			</if>	
			<if test="is_check != null and is_check != ''">	
				is_check = #{is_check}
				,
			</if>	
			<if test="ass_brand != null and ass_brand != ''">	
				ass_brand = #{ass_brand}
				,
			</if>	
			<if test="is_bar != null and is_bar != ''">
				is_bar = #{is_bar}
				,
			</if>	
			<if test="bar_type != null and bar_type != ''">
				bar_type = #{bar_type}
				,
			</if>	
			<if test="is_manage_depre != null and is_manage_depre != ''">	
				is_manage_depre = #{is_manage_depre}
				,
			</if>	
			<if test="manage_depr_method != null and manage_depr_method != ''">
				manage_depr_method = #{manage_depr_method}
				,
			</if>	
			<if test="manage_depre_amount != null and manage_depre_amount != ''">	
				manage_depre_amount = #{manage_depre_amount}
				,
			</if>
			<if test="reg_no != null and reg_no != ''">	
				reg_no = #{reg_no}
				,
			</if>
			<if test="price != null and price != ''">	
				price = #{price}
				,
			</if>
			<if test="measure_type != null and measure_type != ''">	
				measure_type = #{measure_type}
				,
			</if>
			<if test="is_s_measure != null and is_s_measure != ''">	
				is_s_measure = #{is_s_measure}
				,
			</if>
			<if test="measure_king_code != null and measure_king_code != ''">	
				measure_king_code = #{measure_king_code}
				,
			</if>
			<if test="is_fae != null and is_fae != ''">	
				is_fae = #{is_fae}
				,
			</if>
			<if test="common_name != null and common_name != ''">	
				common_name = #{common_name}
				,
			</if>
			<if test="type_code != null and type_code != ''">	
				type_code = #{type_code}
				,
			</if>
		</trim>
		<where>
			is_stop=0
			<if test="group_id != null and group_id != ''">
				AND group_id = #{group_id}
			</if>
			<if test="hos_id != null and hos_id != ''">
				AND hos_id = #{hos_id}
			</if>
			<if test="copy_code != null and copy_code != ''">
				AND copy_code = #{copy_code}
			</if>
			<if test="ass_id != null and ass_id != ''">
				AND ass_id = #{ass_id}
			</if>
			<if test="ass_no != null and ass_no != ''">
				AND ass_no = #{ass_no}
			</if>
		</where>
	</update>
	
	
	
	<update id="updateAssNoDictSaveCharge" parameterType="java.util.Map">

		UPDATE ass_no_dict
		<trim prefix="SET" suffixOverrides=",">
			<if test="is_stop != null and is_stop != ''">
				is_stop = #{is_stop}
				,
			</if>
		</trim>
		<where>
			is_stop=0
			<if test="group_id != null and group_id != ''">
				AND group_id = #{group_id}
			</if>
			<if test="hos_id != null and hos_id != ''">
				AND hos_id = #{hos_id}
			</if>
			<if test="copy_code != null and copy_code != ''">
				AND copy_code = #{copy_code}
			</if>
			<if test="ass_id != null and ass_id != ''">
				AND ass_id = #{ass_id}
			</if>
		</where>
	</update>
	
	
	<update id="updateBatchAssNoDict" parameterType="java.util.List">

		<foreach collection="list" item="item" index="index" open="begin"
			close=";end;" separator=";">
			UPDATE ass_no_dict
			<trim prefix="SET" suffixOverrides=",">
				<if test="item.ass_code != null and item.ass_code != ''">
					ass_code = #{item.ass_code},
				</if>
				<if test="item.ass_name != null and item.ass_name != ''">
					ass_name = #{item.ass_name},
				</if>
				<if test="item.ass_type_id != null and item.ass_type_id != ''">
					ass_type_id = #{item.ass_type_id},
				</if>
				<if test="item.ass_unit != null and item.ass_unit != ''">
					ass_unit = #{item.ass_unit},
				</if>
				<if test="item.is_measure != null and item.is_measure != ''">
					is_measure = #{item.is_measure},
				</if>
				<if test="item.is_depre != null and item.is_depre != ''">
					is_depre = #{item.is_depre},
				</if>
				<if test="item.ass_depre_code != null and item.ass_depre_code != ''">
					ass_depre_code = #{item.ass_depre_code},
				</if>
				<if test="item.depre_years != null and item.depre_years != ''">
					depre_years = #{item.depre_years},
				</if>
				<if test="item.is_stop != null and item.is_stop != ''">
					is_stop = #{item.is_stop},
				</if>
				<if test="item.ass_spec != null and item.ass_spec != ''">
					ass_spec = #{item.ass_spec},
				</if>
				<if test="item.ass_model != null and item.ass_model != ''">
					ass_model = #{item.ass_model}
				</if>
				<if test="item.fac_id != null and item.fac_id != ''">
					fac_id = #{item.fac_id},
				</if>
				<if test="item.fac_no != null and item.fac_no != ''">
					fac_no = #{item.fac_no},
				</if>
				<if test="item.ven_id != null and item.ven_id != ''">
					ven_id = #{item.ven_id},
				</if>
				<if test="item.ven_no != null and item.ven_no != ''">
					ven_no = #{item.ven_no},
				</if>
				<if test="item.usage_code != null and item.usage_code != ''">
					usage_code = #{item.usage_code}
				</if>
				<if test="item.gb_code != null and item.gb_code != ''">
					gb_code = #{item.gb_code},
				</if>
				<if test="item.spell_code != null and item.spell_code != ''">
					spell_code = #{item.spell_code},
				</if>
				<if test="item.wbx_code != null and item.wbx_code != ''">
					wbx_code = #{item.wbx_code},
				</if>
				<if test="item.is_ins != null and item.is_ins != ''">
					is_ins = #{item.is_ins}
					,
				</if>
				<if test="item.is_accept != null and item.is_accept != ''">
					is_accept = #{item.is_accept}
					,
				</if>
				<if test="item.is_check != null and item.is_check != ''">
					is_check = #{item.is_check}
					,
				</if>

				<if test="item.ass_brand != null and item.ass_brand != ''">
					ass_brand = #{item.ass_brand}
					,
				</if>
				<if test="item.is_bar != null and item.is_bar != ''">
					is_bar = #{item.is_bar}
					,
				</if>
				<if test="item.bar_type != null and item.bar_type != ''">
					bar_type = #{item.bar_type}
					,
				</if>
				<if test="item.is_manage_depre != null and item.is_manage_depre != ''">
					is_manage_depre = #{item.is_manage_depre}
					,
				</if>
				<if
					test="item.manage_depr_method != null and item.manage_depr_method != ''">
					manage_depr_method = #{item.manage_depr_method}
					,
				</if>
				<if
					test="item.manage_depre_amount != null and item.manage_depre_amount != ''">
					manage_depre_amount = #{item.manage_depre_amount}
					,
				</if>
				<if
					test="item.reg_no != null and item.reg_no != ''">
					reg_no = #{item.reg_no}
					,
				</if>
				<if
					test="item.price != null and item.price != ''">
					price = #{item.price}
					,
				</if>
				<if
					test="item.measure_type != null and item.measure_type != ''">
					measure_type = #{item.measure_type}
					,
				</if>
				<if
					test="item.is_s_measure != null and item.is_s_measure != ''">
					is_s_measure = #{item.is_s_measure}
					,
				</if>
				<if
					test="item.measure_king_code != null and item.measure_king_code != ''">
					measure_king_code = #{item.measure_king_code}
					,
				</if>
				<if
					test="item.is_fae != null and item.is_fae != ''">
					is_fae = #{item.is_fae}
					,
				</if>
				<if
					test="item.common_name != null and item.common_name != ''">
					common_name = #{item.common_name}
					,
				</if>
				<if
					test="item.type_code != null and item.type_code != ''">
					type_code = #{item.type_code}
					,
				</if>
			</trim>
			<where>
				<if test="item.group_id != null and item.group_id != ''">
					AND group_id = #{item.group_id}
				</if>
				<if test="item.hos_id != null and item.hos_id != ''">
					AND hos_id = #{item.hos_id}
				</if>
				<if test="item.copy_code != null and item.copy_code != ''">
					AND copy_code = #{item.copy_code}
				</if>
				<if test="item.ass_id != null and item.ass_id != ''">
					AND ass_id = #{item.ass_id}
				</if>
				<if test="item.ass_no != null and item.ass_no != ''">
					AND AND ass_no = #{item.ass_no}
				</if>
			</where>
		</foreach>
	</update>
	<delete id="deleteAssNoDict" parameterType="java.util.Map">

		DELETE FROM
		ass_no_dict WHERE
		group_id = #{group_id} and
		hos_id = #{hos_id} and
		copy_code = #{copy_code} and
		ass_id = #{ass_id} and
		ass_no = #{ass_no}

	</delete>
	<delete id="deleteBatchAssNoDict" parameterType="java.util.List">
		DELETE FROM ass_no_dict WHERE
		<foreach collection="list" index="index" item="item" open="("
			separator="or" close=")">
			group_id = #{item.group_id}
			and
			hos_id = #{item.hos_id}
			and
			copy_code =
			#{item.copy_code}
			<if test="item.ass_id != null and item.ass_id != ''">
				AND ass_id = #{item.ass_id}
			</if>
			<if test="item.ass_no != null and item.ass_no != ''">
				AND AND ass_no = #{item.ass_no}
			</if>
		</foreach>
	</delete>
	<select id="queryAssNoDict" parameterType="java.util.Map"
		resultMap="assNoDict">

		SELECT
		aod.group_id,
		aod.hos_id,
		aod.copy_code,
		aod.ass_id,
		aod.ass_no,
		aod.ass_code,
		aod.ass_name,
		aod.ass_type_id,
		atd.ass_type_name,
		atd.acc_type_code,
		afd.fina_type_name acc_type_name,
		aod.ass_unit,
		hu.unit_name ass_unit_name,
		aod.is_measure,
		aod.is_depre,
		aod.ass_depre_code,
		admd.ass_depre_name,
		aod.depre_years,
		aod.is_stop,
		aod.ass_spec,
		aod.ass_model,
		aod.fac_id,
		aod.fac_no,
		hfd.fac_code||'
		'||hfd.fac_name fac_code,
		hfd.fac_name,
		aod.ven_id,
		aod.ven_no,
		hsd.sup_code||' '||hsd.sup_name ven_code,
		hsd.sup_name,
		aod.usage_code,
		d.equi_usage_name usage_name,
		aod.gb_code,
		aod.spell_code,
		aod.is_ins,
		aod.is_accept,
		aod.is_check,
		aod.ass_brand,
		aod.is_bar,
		aod.bar_type,
		aod.is_manage_depre,
		aod.manage_depr_method,
		admd1.ass_depre_name
		manage_depr_method_name,
		aod.manage_depre_amount,
		aod.reg_no,
		aod.price,
		aod.measure_type,
		aod.is_s_measure,
		aod.measure_king_code,
		amkd.measure_king_name,
		aod.is_fae,
		aod.common_name,
		aod.type_code,
		ats.type_name
		FROM ASS_NO_DICT aod

		left join ass_type_dict atd on
		aod.group_id = atd.group_id
		and
		aod.hos_id =
		atd.hos_id
		and aod.copy_code = atd.copy_code
		and
		aod.ass_type_id =
		atd.ass_type_id

		left join ass_fina_dict afd on
		atd.group_id = afd.group_id
		and atd.hos_id =
		afd.hos_id
		and atd.copy_code
		= afd.copy_code
		and atd.acc_type_code =
		afd.fina_type_code

		left join
		HOS_UNIT hu on
		aod.group_id = hu.group_id
		and aod.hos_id = hu.hos_id
		and
		aod.ass_unit =
		hu.unit_code

		left join ass_depre_method_dict admd on
		aod.ass_depre_code =
		admd.ass_depre_code

		left join HOS_SUP_dict hsd on
		aod.group_id = hsd.group_id
		and aod.hos_id = hsd.hos_id
		and aod.ven_id =
		hsd.sup_id
		and hsd.is_stop=0

		left join hos_fac_dict hfd on
		aod.group_id =
		hfd.group_id
		and aod.hos_id = hfd.hos_id
		and aod.fac_id = hfd.fac_id
		and
		hfd.is_stop=0

		left join ass_usage_dict d on
		aod.group_id=d.group_id
		and
		aod.hos_id=d.hos_id
		and aod.copy_code=d.copy_code
		and
		aod.usage_code=d.equi_usage_code

		left join ass_depre_method_dict admd1
		on
		aod.manage_depr_method =
		admd1.ass_depre_code
		
		
		left join ASS_Measure_King_DICT amkd on
	   aod.group_id = amkd.group_id
	   and aod.hos_id = amkd.hos_id
	   and aod.copy_code = amkd.copy_code
	   and aod.measure_king_code = amkd.measure_king_code
	   
	    left join ASS_TYPE_SIXEIGHT ats on
	   aod.group_id = ats.group_id
	   and aod.hos_id = ats.hos_id
	   and aod.copy_code = ats.copy_code
	   and aod.type_code = ats.type_code

		<where>
			<if test="group_id != null and group_id != ''">
				AND aod.group_id = #{group_id}
			</if>
			<if test="hos_id != null and hos_id != ''">
				AND aod.hos_id = #{hos_id}
			</if>
			<if test="copy_code != null and copy_code != ''">
				AND aod.copy_code = #{copy_code}
			</if>
			<if test="ass_id != null and ass_id != ''">
				AND aod.ass_id = #{ass_id}
			</if>
			<if test="ass_no != null and ass_no != ''">
				AND aod.ass_no = #{ass_no}
			</if>
			<if test="ass_code != null and ass_code != ''">
				AND aod.ass_code = #{ass_code}
			</if>
			<if test="ass_name != null and ass_name != ''">
				AND aod.ass_name = #{ass_name}
			</if>
			<if test="ass_type_id != null and ass_type_id != ''">
				AND aod.ass_type_id = #{ass_type_id}
			</if>
			<if test="acc_type_code != null and acc_type_code != ''">
				AND atd.acc_type_code = #{acc_type_code}
			</if>
			<if test="ass_unit != null and ass_unit != ''">
				AND aod.ass_unit = #{ass_unit}
			</if>
			<if test="is_measure != null and is_measure != ''">
				AND aod.is_measure = #{is_measure}
			</if>
			<if test="is_depre != null and is_depre != ''">
				AND aod.is_depre = #{is_depre}
			</if>
			<if test="ass_depre_code != null and ass_depre_code != ''">
				AND aod.ass_depre_code = #{ass_depre_code}
			</if>
			<if test="depre_years != null and depre_years != ''">
				AND aod.depre_years = #{depre_years}
			</if>
			<if test="is_stop != null and is_stop != ''">
				AND aod.is_stop = #{is_stop}
			</if>
			<if test="ass_spec != null and ass_spec != ''">
				AND aod.ass_spec = #{ass_spec}
			</if>
			<if test="ass_model != null and ass_model != ''">
				AND aod.ass_model = #{ass_model}
			</if>
			<if test="fac_id != null and fac_id != ''">
				AND aod.fac_id = #{fac_id}
			</if>
			<if test="fac_no != null and fac_no != ''">
				AND aod.fac_no = #{fac_no}
			</if>
			<if test="ven_id != null and ven_id != ''">
				AND aod.ven_id = #{ven_id}
			</if>
			<if test="ven_no != null and ven_no != ''">
				AND aod.ven_no = #{ven_no}
			</if>
			<if test="usage_code != null and usage_code != ''">
				AND aod.usage_code = #{usage_code}
			</if>
			<if test="gb_code != null and gb_code != ''">
				AND aod.gb_code = #{gb_code}
			</if>
			<if test="spell_code != null and spell_code != ''">
				AND aod.spell_code = #{spell_code}
			</if>
			<if test="wbx_code != null and wbx_code != ''">
				AND aod.wbx_code = #{wbx_code}
			</if>
			<if test="ass_naturs != null and ass_naturs != ''">
				AND atd.ass_naturs = #{ass_naturs}
			</if>
			<if test="is_fae != null and is_fae != ''">
				AND aod.is_fae = #{is_fae}
			</if>
			<if test="type_code != null and type_code != ''">
				AND aod.type_code = #{type_code}
			</if>
		</where>
		order by aod.group_id asc
	</select>
	<select id="queryAssNoDictByCode" resultType="com.chd.hrp.ass.entity.dict.AssNoDict"
		parameterType="java.util.Map">

		SELECT
		aod.group_id,
		aod.hos_id,
		aod.copy_code,
		aod.ass_id,
		aod.ass_no,
		aod.ass_code,
		aod.ass_name,
		aod.ass_type_id,
		atd.ass_type_name,
		atd.acc_type_code,
		afd.fina_type_name acc_type_name,
		aod.ass_unit,
		hu.unit_name ass_unit_name,
		aod.is_measure,
		aod.is_depre,
		aod.ass_depre_code,
		admd.ass_depre_name,
		aod.depre_years,
		aod.is_stop,
		aod.ass_spec,
		aod.ass_model,
		aod.fac_id,
		aod.fac_no,
		hfd.fac_code||'
		'||hfd.fac_name fac_code,
		hfd.fac_name,
		aod.ven_id,
		aod.ven_no,
		hsd.sup_code||' '||hsd.sup_name ven_code,
		hsd.sup_name,
		aod.usage_code,
		d.equi_usage_name usage_name,
		aod.gb_code,
		agc.gb_name ,
		aod.spell_code,
		aod.is_ins,
		aod.is_accept,
		aod.is_check,
		aod.ass_brand,
		aod.is_bar,
		aod.bar_type,
		aod.is_manage_depre,
		aod.manage_depr_method,
		admd1.ass_depre_name
		manage_depr_method_name,
		aod.manage_depre_amount,
		aod.reg_no,
		aod.price,
		aod.measure_type,
		aod.is_s_measure,
		aod.measure_king_code,
		amkd.measure_king_name,
		aod.is_fae,
		aod.common_name,
		aod.type_code,
		ats.type_name
		FROM ASS_NO_DICT aod

		left join ass_type_dict atd on
		aod.group_id = atd.group_id
		and
		aod.hos_id =
		atd.hos_id
		and aod.copy_code = atd.copy_code
		and
		aod.ass_type_id =
		atd.ass_type_id

		left join ass_fina_dict afd on
		atd.group_id = afd.group_id
		and atd.hos_id =
		afd.hos_id
		and atd.copy_code
		= afd.copy_code
		and atd.acc_type_code =
		afd.fina_type_code

		left join
		HOS_UNIT hu on
		aod.group_id = hu.group_id
		and aod.hos_id = hu.hos_id
		and
		aod.ass_unit =
		hu.unit_code

		left join ass_depre_method_dict admd on
		aod.ass_depre_code =
		admd.ass_depre_code

		left join HOS_SUP_dict hsd on
		aod.group_id = hsd.group_id
		and aod.hos_id = hsd.hos_id
		and aod.ven_id =
		hsd.sup_id
		and hsd.is_stop=0

		left join hos_fac_dict hfd on
		aod.group_id =
		hfd.group_id
		and aod.hos_id = hfd.hos_id
		and aod.fac_id = hfd.fac_id
		and
		hfd.is_stop=0

		left join ass_usage_dict d on
		aod.group_id=d.group_id
		and
		aod.hos_id=d.hos_id
		and aod.copy_code=d.copy_code
		and
		aod.usage_code=d.equi_usage_code

		left join ass_depre_method_dict admd1
		on
		aod.manage_depr_method =
		admd1.ass_depre_code
		
		left  join ass_gb_dict agc
			on
				aod.gb_code = agc.gb_code
		
		left join ASS_Measure_King_DICT amkd on
	   aod.group_id = amkd.group_id
	   and aod.hos_id = amkd.hos_id
	   and aod.copy_code = amkd.copy_code
	   and aod.measure_king_code = amkd.measure_king_code
		
		left join ASS_TYPE_SIXEIGHT ats on
	   aod.group_id = ats.group_id
	   and aod.hos_id = ats.hos_id
	   and aod.copy_code = ats.copy_code
	   and aod.type_code = ats.type_code
		
		WHERE
		aod.group_id =
		#{group_id} and
		aod.hos_id =
		#{hos_id} and
		aod.copy_code = #{copy_code}
		and
		aod.ass_id = #{ass_id}
		and
		aod.ass_no = #{ass_no}

	</select>

	<select id="queryAssNoDictByCodeOrName" resultType="com.chd.hrp.ass.entity.dict.AssNoDict"
		parameterType="java.util.Map">

		SELECT
		aod.group_id,
		aod.hos_id,
		aod.copy_code,
		aod.ass_id,
		aod.ass_no,
		aod.ass_code,
		aod.ass_name,
		aod.ass_type_id,
		atd.ass_type_name,
		atd.acc_type_code,
		afd.fina_type_name acc_type_name,
		aod.ass_unit,
		hu.unit_name ass_unit_name,
		aod.is_measure,
		aod.is_depre,
		aod.ass_depre_code,
		admd.ass_depre_name,
		aod.depre_years,
		aod.is_stop,
		aod.ass_spec,
		aod.ass_model,
		aod.fac_id,
		aod.fac_no,
		hfd.fac_code,
		hfd.fac_name,
		aod.ven_id,
		aod.ven_no,
		hsd.sup_code,
		hsd.sup_name,
		aod.usage_code,
		d.equi_usage_name usage_name,
		aod.gb_code,
		aod.spell_code,
		aod.is_ins,
		aod.is_accept,
		aod.is_check,
		aod.ass_brand,
		aod.is_bar,
		aod.bar_type,
		aod.is_manage_depre,
		aod.manage_depr_method,
		admd1.ass_depre_name manage_depr_method_name,
		aod.manage_depre_amount,
		atd.ass_naturs naturs_code,
		aod.reg_no,
		aod.price,
		aod.measure_type,
		aod.is_s_measure,
		aod.measure_king_code,
		amkd.measure_king_name,
		aod.is_fae,
		aod.common_name,
		aod.type_code,
		ats.type_name
		FROM ASS_NO_DICT aod

		left join ass_type_dict atd on
		aod.group_id =
		atd.group_id
		and aod.hos_id =
		atd.hos_id
		and aod.copy_code =
		atd.copy_code
		and aod.ass_type_id =
		atd.ass_type_id

		left join
		ass_fina_dict afd on
		atd.group_id = afd.group_id
		and atd.hos_id =
		afd.hos_id
		and atd.copy_code = afd.copy_code
		and atd.acc_type_code =
		afd.fina_type_code

		left join HOS_UNIT hu on
		aod.group_id = hu.group_id
		and aod.hos_id = hu.hos_id
		and aod.ass_unit =
		hu.unit_code

		left join
		ass_depre_method_dict admd on
		aod.ass_depre_code =
		admd.ass_depre_code

		left join HOS_SUP_dict hsd on
		aod.group_id = hsd.group_id
		and aod.hos_id
		= hsd.hos_id
		and aod.ven_id = hsd.sup_id
		and hsd.is_stop=0

		left join
		hos_fac_dict hfd on
		aod.group_id = hfd.group_id
		and aod.hos_id =
		hfd.hos_id
		and aod.fac_id = hfd.fac_id
		and hfd.is_stop=0

		left join
		ass_usage_dict d on
		aod.group_id=d.group_id
		and aod.hos_id=d.hos_id
		and
		aod.copy_code=d.copy_code
		and aod.usage_code=d.equi_usage_code

		left join
		ass_depre_method_dict admd1 on
		aod.manage_depr_method =
		admd1.ass_depre_code
		
		left join ASS_Measure_King_DICT amkd on
	   aod.group_id = amkd.group_id
	   and aod.hos_id = amkd.hos_id
	   and aod.copy_code = amkd.copy_code
	   and aod.measure_king_code = amkd.measure_king_code
	   
	   left join ASS_TYPE_SIXEIGHT ats on
	   aod.group_id = ats.group_id
	   and aod.hos_id = ats.hos_id
	   and aod.copy_code = ats.copy_code
	   and aod.type_code = ats.type_code
	   
		WHERE
		aod.group_id = #{group_id} and
		aod.hos_id =
		#{hos_id} and
		aod.copy_code = #{copy_code}
		and (aod.ass_code = #{ass_code} 
		<if test="ass_name != null  and ass_name !=''">
		or aod.ass_name = #{ass_name}
		</if>
		)

	</select>

	<select id="queryAssNoDictByUniqueness" resultType="com.chd.hrp.ass.entity.dict.AssNoDict"
		parameterType="java.util.Map">

		SELECT
		a.group_id,
		a.hos_id,
		a.copy_code,
		a.ass_id,
		a.ass_no,
		a.ass_code,
		a.ass_name,
		a.ass_type_id,
		b.ass_type_name,
		a.acc_type_code,
		mft.fina_type_name acc_type_name,
		a.ass_unit,
		hu.unit_name,
		a.is_measure,
		a.is_depre,
		a.ass_depre_code,
		c.ass_depre_name,
		a.depre_years,
		a.is_stop,
		a.ass_spec,
		a.ass_model,
		a.fac_id,
		a.fac_no,
		hfd.fac_name,
		a.ven_id,
		a.ven_no,
		hsd.sup_name ven_name,
		a.usage_code,
		d.equi_usage_name usage_name,
		a.gb_code,
		a.spell_code,
		a.wbx_code,
		a.is_ins,
		a.is_accept,
		a.is_check,
		a.ass_brand,
		a.is_bar,
		a.bar_type,
		a.is_manage_depre,
		a.manage_depr_method,
		admd1.ass_depre_name
		manage_depr_method_name,
		a.manage_depre_amount,
		a.reg_no,
		a.price,
		a.measure_type,
		a.is_s_measure,
		a.measure_king_code,
		amkd.measure_king_name,
		a.is_fae,
		a.common_name,
		a.type_code,
		ats.type_name
		FROM ASS_NO_DICT a
		left
		join
		ass_type_dict b on
		a.group_id=b.group_id
		and a.hos_id=b.hos_id
		and
		a.copy_code=b.copy_code
		and
		a.ass_type_id=b.ass_type_id

		left join
		ASS_FINA_TYPE mft on
		b.group_id=mft.group_id and
		b.hos_id=mft.hos_id and
		b.copy_code=mft.copy_code and
		b.acc_type_code =
		mft.FINA_TYPE_CODE

		left
		join ass_depre_method_dict c on
		a.ass_depre_code=c.ass_depre_code

		left
		join ass_usage_dict d on
		a.group_id=d.group_id and
		a.hos_id=d.hos_id
		and
		a.copy_code=d.copy_code
		and a.usage_code=d.equi_usage_code

		left join
		HOS_FAC_DICT hfd on
		a.hos_id = hfd.hos_id
		and a.group_id =
		hfd.group_id
		and a.fac_id = hfd.fac_id
		and hfd.is_stop = 0

		left join hos_sup_dict hsd
		on
		a.hos_id = hsd.hos_id
		and a.group_id =
		hsd.group_id
		and a.ven_id =
		hsd.sup_id
		and hsd.is_stop = 0

		left join hos_unit hu on
		a.group_id=hu.group_id and
		a.hos_id=hu.hos_id and
		a.ass_unit=hu.unit_code and hu.is_stop=0


		left join
		ass_depre_method_dict admd1 on
		aod.manage_depr_method =
		admd1.ass_depre_code
		
		left join ASS_Measure_King_DICT amkd on
	   a.group_id = amkd.group_id
	   and a.hos_id = amkd.hos_id
	   and a.copy_code = amkd.copy_code
	   and a.measure_king_code = amkd.measure_king_code
	   
	   left join ASS_TYPE_SIXEIGHT ats on
	   a.group_id = ats.group_id
	   and a.hos_id = ats.hos_id
	   and a.copy_code = ats.copy_code
	   and a.type_code = ats.type_code
	   
		<where>
			<if test="group_id != null and group_id != ''">
				AND a.group_id = #{group_id}
			</if>
			<if test="hos_id != null and hos_id != ''">
				AND a.hos_id = #{hos_id}
			</if>
			<if test="copy_code != null and copy_code != ''">
				AND a.copy_code = #{copy_code}
			</if>
			<if test="ass_id != null and ass_id != ''">
				AND a.ass_id = #{ass_id}
			</if>
			<if test="ass_no != null and ass_no != ''">
				AND a.ass_no = #{ass_no}
			</if>
			<if test="ass_code != null and ass_code != ''">
				AND a.ass_code = #{ass_code}
			</if>
			<if test="ass_name != null and ass_name != ''">
				AND a.ass_name = #{ass_name}
			</if>
			<if test="ass_type_id != null and ass_type_id != ''">
				AND a.ass_type_id = #{ass_type_id}
			</if>
			<if test="acc_type_code != null and acc_type_code != ''">
				AND b.acc_type_code = #{acc_type_code}
			</if>
			<if test="ass_unit != null and ass_unit != ''">
				AND a.ass_unit = #{ass_unit}
			</if>
			<if test="is_measure != null and is_measure != ''">
				AND a.is_measure = #{is_measure}
			</if>
			<if test="is_depre != null and is_depre != ''">
				AND a.is_depre = #{is_depre}
			</if>
			<if test="ass_depre_code != null and ass_depre_code != ''">
				AND a.ass_depre_code = #{ass_depre_code}
			</if>
			<if test="depre_years != null and depre_years != ''">
				AND a.depre_years = #{depre_years}
			</if>
			<if test="is_stop != null and is_stop != ''">
				AND a.is_stop = #{is_stop}
			</if>
			<if test="ass_spec != null and ass_spec != ''">
				AND a.ass_spec = #{ass_spec}
			</if>
			<if test="ass_model != null and ass_model != ''">
				AND a.ass_model = #{ass_model}
			</if>
			<if test="fac_id != null and fac_id != ''">
				AND a.fac_id = #{fac_id}
			</if>
			<if test="fac_no != null and fac_no != ''">
				AND a.fac_no = #{fac_no}
			</if>
			<if test="ven_id != null and ven_id != ''">
				AND a.ven_id = #{ven_id}
			</if>
			<if test="ven_no != null and ven_no != ''">
				AND a.ven_no = #{ven_no}
			</if>
			<if test="usage_code != null and usage_code != ''">
				AND a.usage_code = #{usage_code}
			</if>
			<if test="gb_code != null and gb_code != ''">
				AND a.gb_code = #{gb_code}
			</if>
			<if test="spell_code != null and spell_code != ''">
				AND a.spell_code = #{spell_code}
			</if>
			<if test="wbx_code != null and wbx_code != ''">
				AND a.wbx_code = #{wbx_code}
			</if>
		</where>
		order by a.group_id asc
	</select>
	<!-- 校验数据 需要默认值的 批量更新默认值 -->
	<update id="updateAssNoDictCheckData" parameterType="java.util.Map">
		begin
		update
		ass_dict set
		is_measure=nvl(is_measure,0),is_depre=nvl(is_depre,1),ass_depre_code=nvl(ass_depre_code,'01')
		,is_stop=nvl(is_stop,0),is_ins=nvl(is_ins,0),is_check=nvl(is_check,0),is_bar=nvl(is_bar,0)
		,is_manage_depre=nvl(is_manage_depre,0)
		where group_id=#{group_id} and
		hos_id=#{hos_id} and copy_code=#{copy_code}
		and (nvl(is_measure, 9) = 9
		or nvl(is_depre, 9) = 9
		or nvl(ass_depre_code, '') = ''
		or
		nvl(is_stop,9) = 9
		or nvl(is_ins, 9) = 9
		or nvl(is_check, 9) = 9
		or
		nvl(is_bar, 9) =
		9
		or nvl(is_manage_depre, 9) = 9);
		update ass_no_dict
		set
		is_measure=nvl(is_measure,0),is_depre=nvl(is_depre,1),ass_depre_code=nvl(ass_depre_code,'01')
		,is_stop=nvl(is_stop,0),is_ins=nvl(is_ins,0),is_check=nvl(is_check,0),is_bar=nvl(is_bar,0)
		,is_manage_depre=nvl(is_manage_depre,0)
		where group_id=#{group_id} and
		hos_id=#{hos_id} and copy_code=#{copy_code}
		and is_stop=0
		and
		(nvl(is_measure, 9) = 9
		or nvl(is_depre, 9) = 9
		or nvl(ass_depre_code,
		'') = ''
		or nvl(is_stop, 9) = 9
		or nvl(is_ins, 9) = 9
		or nvl(is_check,
		9)= 9
		or nvl(is_bar, 9) = 9
		or nvl(is_manage_depre, 9) = 9);
		end;
	</update>
	<!-- 校验数据 是否折旧 相关联的字段匹配情况 -->
	<select id="queryAssNoDictIsDepre" parameterType="java.util.Map"
		resultMap="assNoDictMap">
		select
		ass_code,ass_name,depre_years,ass_depre_code,is_depre,0 is_change
		from
		ass_dict where is_depre=0 and (nvl(depre_years,0)&gt;0 or
		nvl(ass_depre_code,'')!='')
		and group_id=#{group_id} and
		hos_id=#{hos_id} and copy_code=#{copy_code}
		union all
		select
		ass_code,ass_name,depre_years,ass_depre_code,is_depre,0 is_change from
		ass_dict
		where is_depre=1 and (nvl(depre_years,0)=0 or
		nvl(ass_depre_code,'')='')
		and group_id=#{group_id} and
		hos_id=#{hos_id} and copy_code=#{copy_code}
		union all
		select
		ass_code,ass_name,depre_years,ass_depre_code,is_depre,1 is_change
		from
		ass_no_dict where is_depre=0 and (nvl(depre_years,0)&gt;0 or
		nvl(ass_depre_code,'')!='')
		and group_id=#{group_id} and
		hos_id=#{hos_id} and copy_code=#{copy_code}
		and is_stop=0
		union all
		select
		ass_code,ass_name,depre_years,ass_depre_code,is_depre,1
		is_change from ass_no_dict
		where is_depre=1 and (nvl(depre_years,0)=0
		or
		nvl(ass_depre_code,'')='')
		and group_id=#{group_id} and
		hos_id=#{hos_id} and copy_code=#{copy_code}
		and is_stop=0
	</select>
	<!-- 校验数据 是否分摊 相关联的字段匹配情况 -->
	<select id="queryAssNoDictIsManageDepre" parameterType="java.util.Map"
		resultMap="assNoDictMap">
		select
		ass_code,ass_name,manage_depre_amount,manage_depr_method,is_manage_depre,0
		is_change
		from ass_dict where is_manage_depre=0 and
		(nvl(manage_depre_amount,0)&gt;0
		or nvl(manage_depr_method,'')!='')
		and
		group_id=#{group_id} and
		hos_id=#{hos_id} and copy_code=#{copy_code}
		union all
		select
		ass_code,ass_name,manage_depre_amount,manage_depr_method,is_manage_depre,0
		is_change
		from ass_dict where is_manage_depre=1 and
		(nvl(manage_depre_amount,0)&lt;=0 or nvl(manage_depr_method,'')='')
		and group_id=#{group_id} and
		hos_id=#{hos_id} and
		copy_code=#{copy_code}
		union all
		select
		ass_code,ass_name,manage_depre_amount,manage_depr_method,is_manage_depre,1
		is_change
		from ass_no_dict where is_manage_depre=0 and
		(nvl(manage_depre_amount,0)&gt;0 or nvl(manage_depr_method,'')!='')
		and group_id=#{group_id} and
		hos_id=#{hos_id} and
		copy_code=#{copy_code}
		and is_stop=0
		union all
		select
		ass_code,ass_name,manage_depre_amount,manage_depr_method,is_manage_depre,1
		is_change
		from ass_no_dict where is_manage_depre=1 and
		(nvl(manage_depre_amount,0)&lt;=0 or nvl(manage_depr_method,'')='')
		and group_id=#{group_id} and
		hos_id=#{hos_id} and
		copy_code=#{copy_code}
		and is_stop=0


	</select>
	<select id="queryAssNoDictIsCheckData" parameterType="java.util.Map"
		resultMap="assNoDictMap">
		select ass_code, ass_name
		from ass_dict
		where group_id =
		#{group_id}
		and hos_id = #{hos_id}
		and copy_code = #{copy_code}
		and
		(nvl(is_measure, 9) = 9
		or nvl(is_depre, 9) = 9
		or nvl(ass_depre_code,
		'') = ''
		or nvl(is_stop, 9) = 9
		or nvl(is_ins, 9) = 9
		or nvl(is_check, 9)
		= 9
		or nvl(is_bar, 9) = 9
		or nvl(is_manage_depre, 9) = 9)
		union all
		select ass_code, ass_name
		from ass_no_dict
		where group_id = #{group_id}
		and hos_id = #{hos_id}
		and copy_code = #{copy_code}
		and is_stop=0
		and
		(nvl(is_measure, 9) = 9
		or nvl(is_depre, 9) = 9
		or nvl(ass_depre_code,
		'') = ''
		or nvl(is_stop, 9) = 9
		or nvl(is_ins, 9) = 9
		or nvl(is_check, 9)
		= 9
		or nvl(is_bar, 9) = 9
		or nvl(is_manage_depre, 9) = 9)

	</select>
</mapper>

